<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doppelkopf - Game Summary</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Doppelkopf</h1>
        <div style="text-align: center; margin-bottom: 15px; color: #3498db; font-weight: bold;">
            Game Summary
        </div>
        
        <!-- Game summary screen -->
        <div id="game-summary" class="screen">
            <h2>Game Over</h2>
            <div id="game-result">
                <h3 id="winner" style="color: {{ winner_color }};">Team {{ winner_team }} wins!</h3>
                {% if game_summary %}
                <pre style="text-align: left; margin: 20px auto; padding: 15px; background-color: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; max-width: 600px; white-space: pre-wrap; font-size: 14px; font-family: monospace;">{{ game_summary }}</pre>
                {% endif %}
            </div>
            
            <div class="final-scores">
                <p>RE: <span id="final-re-score">{{ re_score }}</span></p>
                <p>KONTRA: <span id="final-kontra-score">{{ kontra_score }}</span></p>
                <p>Multiplier: <span id="final-multiplier">{{ multiplier }}x</span></p>
                <div id="final-announcements">
                    {% if re_announced %}
                    <p id="final-re-status">Re announced!</p>
                    {% endif %}
                    {% if contra_announced %}
                    <p id="final-contra-status">Contra announced!</p>
                    {% endif %}
                    {% if no90_announced %}
                    <p id="final-no90-status">No 90 announced!</p>
                    {% endif %}
                    {% if no60_announced %}
                    <p id="final-no60-status">No 60 announced!</p>
                    {% endif %}
                    {% if no30_announced %}
                    <p id="final-no30-status">No 30 announced!</p>
                    {% endif %}
                    {% if black_announced %}
                    <p id="final-black-status">Black announced!</p>
                    {% endif %}
                </div>
            </div>
            
            <!-- Score Calculation Details -->
            <div class="score-calculation">
                <h3>Score Calculation</h3>
                <div id="score-calculation-details" class="calculation-details">
                    {{ score_calculation_details|safe }}
                </div>
            </div>
            
            <!-- Player scores scoreboard -->
            <div class="game-wins-scoreboard">
                <h3>Player Scores</h3>
                <div class="scoreboard-content">
                    <div class="score-item">
                        <span class="score-label">You:</span>
                        <span id="game-over-player-0-score" class="score-value">{{ player_scores.0 }}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Player 1:</span>
                        <span id="game-over-player-1-score" class="score-value">{{ player_scores.1 }}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Player 2:</span>
                        <span id="game-over-player-2-score" class="score-value">{{ player_scores.2 }}</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Player 3:</span>
                        <span id="game-over-player-3-score" class="score-value">{{ player_scores.3 }}</span>
                    </div>
                </div>
            </div>
            
            <a href="/" class="btn" id="play-again-btn">Play Again</a>
        </div>
    </div>
</body>
</html>
