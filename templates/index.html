<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doppelkopf</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Doppelkopf</h1>
        
        <!-- Game setup screen -->
        <div id="game-setup" class="screen">
            <h2>Start a New Game</h2>
            <button id="new-game-btn" class="btn">New Game</button>
        </div>
        
        <!-- Game variant selection screen -->
        <div id="variant-selection" class="screen hidden">
            <h2>Select Game Variant</h2>
            <div class="variant-options">
                <button id="normal-btn" class="btn variant-btn">Normal Game</button>
                <button id="hochzeit-btn" class="btn variant-btn" disabled>Hochzeit (Marriage)</button>
                <button id="queen-solo-btn" class="btn variant-btn">Queen Solo</button>
                <button id="jack-solo-btn" class="btn variant-btn">Jack Solo</button>
            </div>
            
            <!-- Show player's hand during variant selection -->
            <div class="hand-area">
                <h3>Your Hand</h3>
                <div id="variant-selection-hand" class="hand-cards"></div>
            </div>
        </div>
        
        <!-- Main game screen -->
        <div id="game-board" class="screen hidden">
            <div class="game-info">
                <div class="player-info">
                    <p>Your Team: <span id="player-team">RE</span></p>
                    <p>Game Variant: <span id="game-variant">NORMAL</span></p>
                    <p>Your Score: <span id="player-score">0</span></p>
                </div>
                <div class="scores">
                    <p>RE: <span id="re-score">0</span></p>
                    <p>KONTRA: <span id="kontra-score">0</span></p>
                </div>
                <div class="current-player">
                    <p id="turn-indicator">Waiting for AI...</p>
                </div>
            </div>
            
            <div class="other-players-area">
                <h3>Other Players</h3>
                <div id="other-players" class="other-players-container"></div>
            </div>
            
            <div class="game-area">
            <div class="trick-area">
                <h3>Current Trick</h3>
                <!-- HARDCODED TRICK DISPLAY -->
                <div id="hardcoded-trick" style="display: flex; justify-content: center; gap: 20px; margin: 20px 0;">
                    <!-- This will be populated by JavaScript -->
                </div>
                
                <div id="current-trick" class="trick-cards" style="display: none;"></div>
                
                <!-- Debug section -->
                <div id="debug-section" style="margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px;">
                    <h4>Debug Info</h4>
                    <div id="debug-trick" style="text-align: left; font-family: monospace; background: #f5f5f5; padding: 10px; border-radius: 5px; overflow: auto; max-height: 200px;"></div>
                    <button id="debug-btn" style="margin-top: 10px; padding: 5px 10px; background: #3498db; color: white; border: none; border-radius: 3px; cursor: pointer;">Show Raw Trick Data</button>
                </div>
            </div>
                
                <div class="last-trick-container hidden">
                    <h3>Last Trick</h3>
                    <div id="last-trick" class="trick-cards"></div>
                    <p id="trick-winner"></p>
                </div>
            </div>
            
            <div class="hand-area">
                <h3>Your Hand</h3>
                <div id="player-hand" class="hand-cards"></div>
            </div>
        </div>
        
        <!-- Game over screen -->
        <div id="game-over" class="screen hidden">
            <h2>Game Over</h2>
            <div id="game-result"></div>
            <div class="final-scores">
                <p>RE: <span id="final-re-score">0</span></p>
                <p>KONTRA: <span id="final-kontra-score">0</span></p>
            </div>
            <button id="play-again-btn" class="btn">Play Again</button>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>
